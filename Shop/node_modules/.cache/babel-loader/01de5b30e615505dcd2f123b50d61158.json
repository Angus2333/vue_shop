{"remainingRequest":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\Address.vue?vue&type=template&id=3be7d8aa","dependencies":[{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\Address.vue","mtime":1610527223000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiYWRkcmVzcy1ib3giCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiYWRkcmVzcy1pdGVtIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X3NfaGVhZGVyID0gX3Jlc29sdmVDb21wb25lbnQoInMtaGVhZGVyIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9hZGRyZXNzX2xpc3QgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWFkZHJlc3MtbGlzdCIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9zX2hlYWRlciwgewogICAgbmFtZTogJ+WcsOWdgOeuoeeQhicKICB9KSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2N0eC5mcm9tICE9ICdtaW5lJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X3Zhbl9hZGRyZXNzX2xpc3QsIHsKICAgIGtleTogMCwKICAgIG1vZGVsVmFsdWU6IF9jdHguY2hvc2VuQWRkcmVzc0lkLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuIF9jdHguY2hvc2VuQWRkcmVzc0lkID0gJGV2ZW50OwogICAgfSksCiAgICBsaXN0OiBfY3R4Lmxpc3QsCiAgICAiZGVmYXVsdC10YWctdGV4dCI6ICLpu5jorqQiLAogICAgb25BZGQ6ICRzZXR1cC5vbkFkZCwKICAgIG9uRWRpdDogJHNldHVwLm9uRWRpdCwKICAgIG9uU2VsZWN0OiAkc2V0dXAuc2VsZWN0CiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm1vZGVsVmFsdWUiLCAibGlzdCIsICJvbkFkZCIsICJvbkVkaXQiLCAib25TZWxlY3QiXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfdmFuX2FkZHJlc3NfbGlzdCwgewogICAga2V5OiAxLAogICAgbW9kZWxWYWx1ZTogX2N0eC5jaG9zZW5BZGRyZXNzSWQsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gX2N0eC5jaG9zZW5BZGRyZXNzSWQgPSAkZXZlbnQ7CiAgICB9KSwKICAgIGxpc3Q6IF9jdHgubGlzdCwKICAgICJkZWZhdWx0LXRhZy10ZXh0IjogIum7mOiupCIsCiAgICBvbkFkZDogJHNldHVwLm9uQWRkLAogICAgb25FZGl0OiAkc2V0dXAub25FZGl0CiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm1vZGVsVmFsdWUiLCAibGlzdCIsICJvbkFkZCIsICJvbkVkaXQiXSkpXSldKTsKfQ=="},{"version":3,"sources":["C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\Address.vue"],"names":[],"mappings":";;AACO,EAAA,KAAK,EAAC;;;AAEJ,EAAA,KAAK,EAAC;;;;;;;uBAFb,YAAA,CAqBM,KArBN,EAAA,UAAA,EAqBM,CApBJ,YAAA,CAAoC,mBAApC,EAAoC;AAAzB,IAAA,IAAI,EAAE;AAAmB,GAApC,CAoBI,EAnBJ,YAAA,CAkBM,KAlBN,EAAA,UAAA,EAkBM,CAhBI,IAAA,CAAA,IAAA,IAAI,M,kBADZ,YAAA,CAQE,2BARF,EAQE;UAAA;gBANS,IAAA,CAAA,eAMT;;aANS,IAAA,CAAA,eAAA,GAAe,M;MAMxB;AALC,IAAA,IAAI,EAAE,IAAA,CAAA,IAKP;AAJA,wBAAiB,IAIjB;AAHC,IAAA,KAAG,EAAE,MAAA,CAAA,KAGN;AAFC,IAAA,MAAI,EAAE,MAAA,CAAA,MAEP;AADC,IAAA,QAAM,EAAE,MAAA,CAAA;AACT,GARF,E,IAAA,E;;AAAA,I,qDAAA,C,mBASA,YAAA,CAOE,2BAPF,EAOE;UAAA;gBALS,IAAA,CAAA,eAKT;;aALS,IAAA,CAAA,eAAA,GAAe,M;MAKxB;AAJC,IAAA,IAAI,EAAE,IAAA,CAAA,IAIP;AAHA,wBAAiB,IAGjB;AAFC,IAAA,KAAG,EAAE,MAAA,CAAA,KAEN;AADC,IAAA,MAAI,EAAE,MAAA,CAAA;AACP,GAPF,E,IAAA,E;;AAAA,I,yCAAA,C,CAQI,CAlBN,CAmBI,CArBN,C","sourcesContent":["<template>\n  <div class=\"address-box\">\n    <s-header :name=\"'地址管理'\"></s-header>\n    <div class=\"address-item\">\n      <van-address-list\n        v-if=\"from != 'mine'\"\n        v-model=\"chosenAddressId\"\n        :list=\"list\"\n        default-tag-text=\"默认\"\n        @add=\"onAdd\"\n        @edit=\"onEdit\"\n        @select=\"select\"\n      />\n      <van-address-list\n        v-else\n        v-model=\"chosenAddressId\"\n        :list=\"list\"\n        default-tag-text=\"默认\"\n        @add=\"onAdd\"\n        @edit=\"onEdit\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport sHeader from '@/components/SimpleHeader'\nimport { onMounted, reactive, toRefs } from 'vue'\nimport { getAddressList } from '@/service/address.js'\nimport { useRouter, useRoute } from 'vue-router';\nexport default {\n  components: {\n    sHeader\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const state = reactive({\n      list: [],\n      from: route.query.from\n    })\n\n    onMounted( async () => {\n      // 请求所有的地址列表\n      const { data } = await getAddressList()\n      if (!data) {\n        state.list = []\n        return\n      }\n      console.log(data);\n      state.list = data.map(item => {\n        return {\n          id: item.addressId,\n          name: item.userName,\n          tel: item.userPhone,\n          address: `${item.provinceName} ${item.cityName} ${item.regionName} ${item.detailAddress}`,\n          isDefault: !!item.defaultFlag\n        }\n      })\n    })\n\n    // 新增地址\n    const onAdd = () => {\n      router.push({ path: '/address-edit', query: { type: 'add', from: state.from }})\n    }\n\n    // 修改地址\n    const onEdit = (item) => {\n      router.push({ path: '/address-edit', query: { type: 'edit', addressId: item.id, from: state.from }})\n    }\n\n    // 选中地址\n    const select = (item) => {\n      console.log(item);\n      router.push({ path: '/create-order', query: { addressId: item.id, from: state.from }})\n    }\n\n    return {\n      ...toRefs(state),\n      onAdd,\n      select,\n      onEdit\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n@import \"../common/style/mixin\";\n.address-box {\n  .van-radio__icon {\n    display: none;\n  }\n  .address-item {\n    margin-top: 44px;\n    .van-button {\n      background: @primary;\n      border-color: @primary;\n    }\n  }\n}\n</style>"],"sourceRoot":""}]}