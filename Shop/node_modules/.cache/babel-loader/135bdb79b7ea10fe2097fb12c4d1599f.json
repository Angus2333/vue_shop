{"remainingRequest":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\ProductDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\ProductDetail.vue","mtime":1610423848000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvXHU2MTFGXHU4OUM5L0Rlc2t0b3AvbmV3LWJlZS9uZXctYmVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvXHU2MTFGXHU4OUM5L0Rlc2t0b3AvbmV3LWJlZS9uZXctYmVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHNIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL1NpbXBsZUhlYWRlciI7CmltcG9ydCB7IGNvbXB1dGVkLCBvbk1vdW50ZWQsIHJlYWN0aXZlLCB0b1JlZnMgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VSb3V0ZSwgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGdldERldGFpbCB9IGZyb20gJ0Avc2VydmljZS9nb29kcy5qcyc7CmltcG9ydCB7IGFkZENhcnQgfSBmcm9tICdAL3NlcnZpY2UvY2FydC5qcyc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBzSGVhZGVyOiBzSGVhZGVyCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgZGV0YWlsOiB7CiAgICAgICAgZ29vZHNDYXJvdXNlbExpc3Q6IFtdLAogICAgICAgIGdvb2RzTmFtZTogJycsCiAgICAgICAgc2VsbGluZ1ByaWNlOiAnJywKICAgICAgICBnb29kc0RldGFpbENvbnRlbnQ6ICcnCiAgICAgIH0KICAgIH0pOwogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgaWQsIF95aWVsZCRnZXREZXRhaWwsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWQgPSByb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGdldERldGFpbChpZCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX3lpZWxkJGdldERldGFpbCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXREZXRhaWwuZGF0YTsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICBzdGF0ZS5kZXRhaWwgPSBkYXRhOwogICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVDYXJ0Jyk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsgLy8g5Yqg5YWl6LSt54mp6L2mCgogICAgdmFyIGhhbmRsZUFkZENhcnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkYWRkQ2FydCwgcmVzdWx0Q29kZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRDYXJ0KHsKICAgICAgICAgICAgICAgICAgZ29vZHNDb3VudDogMSwKICAgICAgICAgICAgICAgICAgZ29vZHNJZDogc3RhdGUuZGV0YWlsLmdvb2RzSWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkYWRkQ2FydCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmVzdWx0Q29kZSA9IF95aWVsZCRhZGRDYXJ0LnJlc3VsdENvZGU7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Q29kZSA9PSAyMDApIFRvYXN0LnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpOwogICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZUNhcnQnKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUFkZENhcnQoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7IC8vIOinkuaghwoKCiAgICB2YXIgY291bnQgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5jYXJ0Q291bnQ7CiAgICB9KTsgLy8g56uL5Y2z6LSt5LmwCgogICAgdmFyIGdvVG9DYXJ0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZENhcnQoewogICAgICAgICAgICAgICAgICBnb29kc0NvdW50OiAxLAogICAgICAgICAgICAgICAgICBnb29kc0lkOiBzdGF0ZS5kZXRhaWwuZ29vZHNJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVDYXJ0Jyk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICcvY2FydCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZ29Ub0NhcnQoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7IC8vIOWOu+WIsOi0reeJqei9pumhtemdogoKCiAgICB2YXIgZ29UbyA9IGZ1bmN0aW9uIGdvVG8oKSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2NhcnQnCiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0b1JlZnMoc3RhdGUpKSwge30sIHsKICAgICAgaGFuZGxlQWRkQ2FydDogaGFuZGxlQWRkQ2FydCwKICAgICAgY291bnQ6IGNvdW50LAogICAgICBnb1RvQ2FydDogZ29Ub0NhcnQsCiAgICAgIGdvVG86IGdvVG8KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\ProductDetail.vue"],"names":[],"mappings":";;;AAgDA,OAAO,OAAP,MAAoB,2BAApB;AACA,SAAS,QAAT,EAAmB,SAAnB,EAA8B,QAA9B,EAAwC,MAAxC,QAAsD,KAAtD;AACA,SAAS,QAAT,EAAmB,SAAnB,QAAoC,YAApC;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,SAAT,QAA0B,oBAA1B;AACA,SAAS,OAAT,QAAwB,mBAAxB;AACA,SAAS,KAAT,QAAsB,MAAtB;AACA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,OAAO,EAAP;AADU,GADC;AAIb,EAAA,KAJa,mBAIL;AACN,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,MAAM,EAAE;AACN,QAAA,iBAAiB,EAAE,EADb;AAEN,QAAA,SAAS,EAAE,EAFL;AAGN,QAAA,YAAY,EAAE,EAHR;AAIN,QAAA,kBAAkB,EAAE;AAJd;AADa,KAAD,CAAtB;AASA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,EADA,GACO,KAAK,CAAC,MADb,CACA,EADA;AAAA;AAAA,qBAEe,SAAS,CAAC,EAAD,CAFxB;;AAAA;AAAA;AAEA,cAAA,IAFA,oBAEA,IAFA;AAGR;AACA,cAAA,KAAK,CAAC,MAAN,GAAe,IAAf;AACA,cAAA,KAAK,CAAC,QAAN,CAAe,YAAf;;AALQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT,CAbM,CAqBN;;AACA,QAAM,aAAY;AAAA,0EAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACS,OAAO,CAAC;AAAE,kBAAA,UAAU,EAAE,CAAd;AAAiB,kBAAA,OAAO,EAAE,KAAK,CAAC,MAAN,CAAa;AAAvC,iBAAD,CADhB;;AAAA;AAAA;AACZ,gBAAA,UADY,kBACZ,UADY;AAEpB,oBAAI,UAAS,IAAK,GAAlB,EAAuB,KAAK,CAAC,OAAN,CAAc,MAAd;AACvB,gBAAA,KAAK,CAAC,QAAN,CAAe,YAAf;;AAHoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAZ,aAAY;AAAA;AAAA;AAAA,OAAlB,CAtBM,CA4BN;;;AACA,QAAM,KAAI,GAAI,QAAQ,CAAC,YAAM;AAC3B,aAAO,KAAK,CAAC,KAAN,CAAY,SAAnB;AACD,KAFqB,CAAtB,CA7BM,CAiCN;;AACA,QAAM,QAAO;AAAA,0EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACT,OAAO,CAAC;AAAE,kBAAA,UAAU,EAAE,CAAd;AAAiB,kBAAA,OAAO,EAAE,KAAK,CAAC,MAAN,CAAa;AAAvC,iBAAD,CADE;;AAAA;AAEf,gBAAA,KAAK,CAAC,QAAN,CAAe,YAAf;AACA,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;;AAHe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAP,QAAO;AAAA;AAAA;AAAA,OAAb,CAlCM,CAwCN;;;AACA,QAAM,IAAG,GAAI,SAAP,IAAO,GAAM;AACjB,MAAA,MAAM,CAAC,IAAP,CAAY;AAAE,QAAA,IAAI,EAAE;AAAR,OAAZ;AACF,KAFA;;AAIA,2CACK,MAAM,CAAC,KAAD,CADX;AAEE,MAAA,aAAa,EAAb,aAFF;AAGE,MAAA,KAAK,EAAL,KAHF;AAIE,MAAA,QAAQ,EAAR,QAJF;AAKE,MAAA,IAAG,EAAH;AALF;AAOF;AAxDa,CAAf","sourcesContent":["<template>\n  <div class=\"product-detail\">\n    <s-header :name=\"'商品详情'\"></s-header>\n    <div class=\"detail-content\">\n      <div class=\"detail-swipe-wrap\">\n        <van-swipe class=\"my-swipe\" indicator-color=\"#1baeae\">\n          <van-swipe-item\n            v-for=\"(item, index) in detail.goodsCarouselList\"\n            :key=\"index\"\n          >\n            <img :src=\"item\" alt=\"\" />\n          </van-swipe-item>\n        </van-swipe>\n      </div>\n      <div class=\"product-info\">\n        <div class=\"product-title\">\n          {{ detail.goodsName || \"\" }}\n        </div>\n        <div class=\"product-desc\">免邮费 顺丰快递</div>\n        <div class=\"product-price\">\n          <span>¥{{ detail.sellingPrice || \"\" }}</span>\n          <!-- <span>库存203</span> -->\n        </div>\n      </div>\n      <div class=\"product-intro\">\n        <ul>\n          <li>概述</li>\n          <li>参数</li>\n          <li>安装服务</li>\n          <li>常见问题</li>\n        </ul>\n        <div\n          class=\"product-content\"\n          v-html=\"detail.goodsDetailContent || ''\"\n        ></div>\n      </div>\n    </div>\n    <!-- footer -->\n    <van-action-bar>\n      <van-action-bar-icon icon=\"chat-o\" text=\"客服\" dot />\n      <van-action-bar-icon icon=\"cart-o\" text=\"购物车\" :badge=\"count ? count : ''\" @click=\"goTo\" />\n      <van-action-bar-button type=\"warning\" text=\"加入购物车\" @click=\"handleAddCart\"/>\n      <van-action-bar-button type=\"danger\" text=\"立即购买\" @click=\"goToCart\"/>\n    </van-action-bar>\n  </div>\n</template>\n\n<script>\nimport sHeader from \"@/components/SimpleHeader\";\nimport { computed, onMounted, reactive, toRefs } from 'vue';\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { getDetail } from '@/service/goods.js'\nimport { addCart } from '@/service/cart.js'\nimport { Toast } from 'vant'\nexport default {\n  components: {\n    sHeader,\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n    const state = reactive({\n      detail: {\n        goodsCarouselList: [],\n        goodsName: '',\n        sellingPrice: '',\n        goodsDetailContent: ''\n      }\n    })\n\n    onMounted(async () => {\n      const { id } = route.params\n      const { data } = await getDetail(id)\n      // console.log(data);\n      state.detail = data\n      store.dispatch('updateCart')\n    })\n\n    // 加入购物车\n    const handleAddCart = async () => {\n      const { resultCode } = await addCart({ goodsCount: 1, goodsId: state.detail.goodsId})\n      if (resultCode == 200) Toast.success('添加成功')\n      store.dispatch('updateCart')\n    }\n\n    // 角标\n    const count = computed(() => {\n      return store.state.cartCount\n    })\n\n    // 立即购买\n    const goToCart = async () => {\n      await addCart({ goodsCount: 1, goodsId: state.detail.goodsId})\n      store.dispatch('updateCart')\n      router.push({ path: '/cart' })\n    }\n\n    // 去到购物车页面\n    const goTo = () => {\n      router.push({ path: '/cart' })\n    }\n\n    return {\n      ...toRefs(state),\n      handleAddCart,\n      count,\n      goToCart,\n      goTo\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import \"../common/style/mixin\";\n.product-detail {\n  .detail-header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10000;\n    .fj();\n    .wh(100%, 44px);\n    line-height: 44px;\n    padding: 0 10px;\n    .boxSizing();\n    color: #252525;\n    background: #fff;\n    border-bottom: 1px solid #dcdcdc;\n    .product-name {\n      font-size: 14px;\n    }\n  }\n  .detail-content {\n    height: calc(100vh - 50px);\n    overflow: hidden;\n    overflow-y: auto;\n    margin-top: 44px;\n    .detail-swipe-wrap {\n      .my-swipe .van-swipe-item {\n        img {\n          width: 100%;\n          // height: 300px;\n        }\n      }\n    }\n    .product-info {\n      padding: 0 10px;\n      .product-title {\n        font-size: 18px;\n        text-align: left;\n        color: #333;\n      }\n      .product-desc {\n        font-size: 14px;\n        text-align: left;\n        color: #999;\n        padding: 5px 0;\n      }\n      .product-price {\n        .fj();\n        span:nth-child(1) {\n          color: #f63515;\n          font-size: 22px;\n        }\n        span:nth-child(2) {\n          color: #999;\n          font-size: 16px;\n        }\n      }\n    }\n    .product-intro {\n      width: 100%;\n      padding-bottom: 50px;\n      ul {\n        .fj();\n        width: 100%;\n        margin: 10px 0;\n        li {\n          flex: 1;\n          padding: 5px 0;\n          text-align: center;\n          font-size: 15px;\n          border-right: 1px solid #999;\n          box-sizing: border-box;\n          &:last-child {\n            border-right: none;\n          }\n        }\n      }\n      .product-content {\n        padding: 0 20px;\n        img {\n          width: 100%;\n        }\n      }\n    }\n  }\n  .van-action-bar-button--warning {\n    background: linear-gradient(to right, #6bd8d8, @primary);\n  }\n  .van-action-bar-button--danger {\n    background: linear-gradient(to right, #0dc3c3, #098888);\n  }\n}\n</style>"],"sourceRoot":""}]}