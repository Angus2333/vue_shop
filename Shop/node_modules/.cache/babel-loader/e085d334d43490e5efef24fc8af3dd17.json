{"remainingRequest":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\components\\VueImgVerify.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\components\\VueImgVerify.vue","mtime":1610352472000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL1x1NjExRlx1ODlDOS9EZXNrdG9wL25ldy1iZWUvbmV3LWJlZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IHJlZiwgcmVhY3RpdmUsIG9uTW91bnRlZCwgdG9SZWZzIH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciB2ZXJpZnkgPSByZWYobnVsbCk7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIHBvb2w6ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjEyMzQ1Njc4OTAnLAogICAgICB3aWR0aDogMTIwLAogICAgICBoZWlnaHQ6IDQwLAogICAgICBpbWdDb2RlOiAnJwogICAgfSk7CiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBzdGF0ZS5pbWdDb2RlID0gZHJhdygpOwogICAgfSk7IC8vIOmaj+acuuaVsAoKICAgIHZhciByYW5kb21OdW0gPSBmdW5jdGlvbiByYW5kb21OdW0obWluLCBtYXgpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7CiAgICB9OyAvLyDnlJ/miJDpmo/ljbPoibIKCgogICAgdmFyIHJhbmRvbUNvbG9yID0gZnVuY3Rpb24gcmFuZG9tQ29sb3IobWluLCBtYXgpIHsKICAgICAgdmFyIHIgPSByYW5kb21OdW0obWluLCBtYXgpOwogICAgICB2YXIgZyA9IHJhbmRvbU51bShtaW4sIG1heCk7CiAgICAgIHZhciBiID0gcmFuZG9tTnVtKG1pbiwgbWF4KTsKICAgICAgcmV0dXJuICJyZ2IoIi5jb25jYXQociwgIiwgIikuY29uY2F0KGcsICIsICIpLmNvbmNhdChiLCAiKSIpOwogICAgfTsgLy8g57uY5Yi25Zu+54mHCgoKICAgIHZhciBkcmF3ID0gZnVuY3Rpb24gZHJhdygpIHsKICAgICAgLy8g5ou/5Yiw55S75biDCiAgICAgIHZhciBjdHggPSB2ZXJpZnkudmFsdWUuZ2V0Q29udGV4dCgnMmQnKTsgLy8g5aGr5YWF6IOM5pmv6ImyCgogICAgICBjdHguZmlsbFN0eWxlID0gcmFuZG9tQ29sb3IoMTgwLCAyMzApOyAvLyDloavlhYXnmoTkvY3nva4KCiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBzdGF0ZS53aWR0aCwgc3RhdGUuaGVpZ2h0KTsgLy8g5a6a5LmJ5YaF5a65CgogICAgICB2YXIgaW1nQ29kZSA9ICcnOyAvLyDpmo/mnLrnlJ/miJDlrZfnrKbkuLIKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgdmFyIHRleHQgPSBzdGF0ZS5wb29sW3JhbmRvbU51bSgwLCBzdGF0ZS5wb29sLmxlbmd0aCldOwogICAgICAgIGltZ0NvZGUgKz0gdGV4dDsgLy8g6ZqP5py65a2X5L2T5aSn5bCPCgogICAgICAgIHZhciBmb250U2l6ZSA9IHJhbmRvbU51bSgxOCwgNDApOyAvLyDlrZfkvZPpmo/mnLrml4vovazop5LluqYKCiAgICAgICAgdmFyIGRlZyA9IHJhbmRvbU51bSgtMzAsIDMwKTsKICAgICAgICBjdHguZm9udCA9IGZvbnRTaXplICsgJ3B4IFNpbWhlaSc7CiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSByYW5kb21Db2xvcig4MCwgMTUwKTsKICAgICAgICBjdHguc2F2ZSgpOyAvLyDkv53lrZjvvIzlhaXmoIgKCiAgICAgICAgY3R4LnRyYW5zbGF0ZSgzMCAqIGkgKyAxNSwgMTUpOwogICAgICAgIGN0eC5yb3RhdGUoZGVnICogTWF0aC5QSSAvIDE4MCk7IC8vIOaWh+Wtl+e7mOWItuWIsOeUu+W4g+S4igoKICAgICAgICBjdHguZmlsbFRleHQodGV4dCwgLTEwLCAtMTUpOwogICAgICAgIGN0eC5yZXN0b3JlKCk7IC8vIOaBouWkjeWOn+adpeeahOWAvO+8jOWHuuagiAogICAgICB9IC8vIOmaj+acuueUn+aIkDXmnaHlubLmibDnur/mnaEKCgogICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgNTsgX2krKykgewogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHgubW92ZVRvKHJhbmRvbU51bSgwLCBzdGF0ZS53aWR0aCksIHJhbmRvbU51bSgwLCBzdGF0ZS5oZWlnaHQpKTsKICAgICAgICBjdHgubGluZVRvKHJhbmRvbU51bSgwLCBzdGF0ZS53aWR0aCksIHJhbmRvbU51bSgwLCBzdGF0ZS5oZWlnaHQpKTsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSByYW5kb21Db2xvcigxODAsIDIzMCk7CiAgICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgfSAvLyDpmo/mnLrkuqfnlJ80MOS4quW5suaJsOeahOWwj+eCuQoKCiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IDQwOyBfaTIrKykgewogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHguYXJjKHJhbmRvbU51bSgwLCBzdGF0ZS53aWR0aCksIHJhbmRvbU51bSgwLCBzdGF0ZS5oZWlnaHQpLCAxLCAwLCAyICogTWF0aC5QSSk7CiAgICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSByYW5kb21Db2xvcigxNTAsIDIwMCk7CiAgICAgICAgY3R4LmZpbGwoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGltZ0NvZGU7CiAgICB9OwoKICAgIHZhciBoYW5kbGVEcmF3ID0gZnVuY3Rpb24gaGFuZGxlRHJhdygpIHsKICAgICAgc3RhdGUuaW1nQ29kZSA9IGRyYXcoKTsKICAgIH07CgogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG9SZWZzKHN0YXRlKSksIHt9LCB7CiAgICAgIHZlcmlmeTogdmVyaWZ5LAogICAgICBoYW5kbGVEcmF3OiBoYW5kbGVEcmF3CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\components\\VueImgVerify.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"img-verify\">\n    <canvas ref=\"verify\" :width=\"width\" :height=\"height\" @click=\"handleDraw\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, toRefs } from 'vue'\nexport default {\n  setup() {\n    const verify = ref(null)\n    const state = reactive({\n      pool: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890',\n      width: 120,\n      height: 40,\n      imgCode: ''\n    })\n    onMounted(() => {\n      state.imgCode = draw()\n    })\n    // 随机数\n    const randomNum = (min, max) => {\n      return parseInt(Math.random() * (max - min) + min)\n    }\n    // 生成随即色\n    const randomColor = (min, max) => {\n      const r = randomNum(min, max)\n      const g = randomNum(min, max)\n      const b = randomNum(min, max)\n      return `rgb(${r}, ${g}, ${b})`\n    }\n    // 绘制图片\n    const draw = () => {\n      // 拿到画布\n      const ctx = verify.value.getContext('2d')\n      // 填充背景色\n      ctx.fillStyle = randomColor(180, 230)\n      // 填充的位置\n      ctx.fillRect(0, 0, state.width, state.height)\n      // 定义内容\n      let imgCode = ''\n      // 随机生成字符串\n      for (let i = 0; i < 4; i++) {\n        const text = state.pool[randomNum(0, state.pool.length)]\n        imgCode += text\n        // 随机字体大小\n        const fontSize = randomNum(18, 40)\n        // 字体随机旋转角度\n        const deg = randomNum(-30, 30)\n        ctx.font = fontSize +  'px Simhei'\n        ctx.textBaseline = 'top'\n        ctx.fillStyle = randomColor(80, 150)\n        ctx.save() // 保存，入栈\n        ctx.translate(30 * i + 15, 15)\n        ctx.rotate((deg * Math.PI) / 180)\n        // 文字绘制到画布上\n        ctx.fillText(text, -10, -15)\n        ctx.restore() // 恢复原来的值，出栈\n      }\n      // 随机生成5条干扰线条\n      for (let i = 0; i < 5; i++) {\n        ctx.beginPath()\n        ctx.moveTo(randomNum(0, state.width), randomNum(0, state.height))\n        ctx.lineTo(randomNum(0, state.width), randomNum(0, state.height))\n        ctx.strokeStyle = randomColor(180, 230)\n        ctx.closePath()\n        ctx.stroke()\n      }\n      // 随机产生40个干扰的小点\n      for (let i = 0; i < 40; i++) {\n        ctx.beginPath()\n        ctx.arc(randomNum(0, state.width), randomNum(0, state.height), 1, 0, 2 * Math.PI)\n        ctx.closePath()\n        ctx.fillStyle = randomColor(150, 200)\n        ctx.fill()\n      }\n      return imgCode\n    }\n\n    const handleDraw = () => {\n      state.imgCode = draw()\n    }\n    return {\n      ...toRefs(state),\n      verify,\n      handleDraw\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"],"sourceRoot":""}]}