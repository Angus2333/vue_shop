{"remainingRequest":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\utils\\axios.js","dependencies":[{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\utils\\axios.js","mtime":1610175550000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkM6L1VzZXJzL1x1NjExRlx1ODlDOS9EZXNrdG9wL25ldy1iZWUvbmV3LWJlZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ2RldmVsb3BlbWVudCcgPyAnLy80Ny45OS4xMzQuMTI2OjI4MDE5L2FwaS92MScgOiAnLy80Ny45OS4xMzQuMTI2OjI4MDE5L2FwaS92MSc7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnNbJ1gtUmVxdWVzdGVkLVdpdGgnXSA9ICdYTUxIdHRwUmVxdWVzdCc7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnNbJ3Rva2VuJ10gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJzsKYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJzsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgaWYgKF90eXBlb2YocmVzLmRhdGEpICE9PSAnb2JqZWN0JykgewogICAgVG9hc3QuZmFpbCgn5pyN5Yqh56uv5byC5bi4IScpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcyk7CiAgfQoKICBpZiAocmVzLmRhdGEucmVzdWx0Q29kZSAhPT0gMjAwKSB7CiAgICBpZiAocmVzLmRhdGEubWVzc2FnZSkgVG9hc3QuZmFpbChyZXMuZGF0YS5tZXNzYWdlKTsKCiAgICBpZiAocmVzLmRhdGEucmVzdWx0Q29kZSA9PSA0MTYpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZGF0YSk7CiAgfQoKICByZXR1cm4gcmVzLmRhdGE7Cn0pOwpleHBvcnQgZGVmYXVsdCBheGlvczs="},{"version":3,"sources":["C:/Users/感觉/Desktop/new-bee/new-bee/src/utils/axios.js"],"names":["axios","Toast","router","defaults","baseURL","process","env","NODE_ENV","headers","localStorage","getItem","post","interceptors","response","use","res","data","fail","Promise","reject","resultCode","message","push","path"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEAF,KAAK,CAACG,QAAN,CAAeC,OAAf,GAAyBC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,cAAxB,GAAyC,8BAAzC,GAA0E,8BAAnG;AACAP,KAAK,CAACG,QAAN,CAAeK,OAAf,CAAuB,kBAAvB,IAA6C,gBAA7C;AACAR,KAAK,CAACG,QAAN,CAAeK,OAAf,CAAuB,OAAvB,IAAkCC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAAnE;AACAV,KAAK,CAACG,QAAN,CAAeK,OAAf,CAAuBG,IAAvB,CAA4B,cAA5B,IAA8C,kBAA9C;AAEAX,KAAK,CAACY,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,UAAAC,GAAG,EAAI;AACrC,MAAI,QAAOA,GAAG,CAACC,IAAX,MAAoB,QAAxB,EAAkC;AAChCf,IAAAA,KAAK,CAACgB,IAAN,CAAW,QAAX;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAP;AACD;;AACD,MAAIA,GAAG,CAACC,IAAJ,CAASI,UAAT,KAAwB,GAA5B,EAAiC;AAC/B,QAAIL,GAAG,CAACC,IAAJ,CAASK,OAAb,EAAsBpB,KAAK,CAACgB,IAAN,CAAWF,GAAG,CAACC,IAAJ,CAASK,OAApB;;AACtB,QAAIN,GAAG,CAACC,IAAJ,CAASI,UAAT,IAAuB,GAA3B,EAAgC;AAC9BlB,MAAAA,MAAM,CAACoB,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACD;;AACD,WAAOL,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACC,IAAnB,CAAP;AACD;;AAED,SAAOD,GAAG,CAACC,IAAX;AACD,CAdD;AAgBA,eAAehB,KAAf","sourcesContent":["import axios from 'axios'\nimport { Toast } from 'vant'\nimport router from '../router'\n\naxios.defaults.baseURL = process.env.NODE_ENV == 'developement' ? '//47.99.134.126:28019/api/v1' : '//47.99.134.126:28019/api/v1'\naxios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'\naxios.defaults.headers['token'] = localStorage.getItem('token') || ''\naxios.defaults.headers.post['Content-Type'] = 'application/json'\n\naxios.interceptors.response.use(res => {\n  if (typeof res.data !== 'object') {\n    Toast.fail('服务端异常!')\n    return Promise.reject(res)\n  }\n  if (res.data.resultCode !== 200) {\n    if (res.data.message) Toast.fail(res.data.message)\n    if (res.data.resultCode == 416) {\n      router.push({ path: '/login' })\n    }\n    return Promise.reject(res.data)\n  }\n\n  return res.data\n})\n\nexport default axios"]}]}