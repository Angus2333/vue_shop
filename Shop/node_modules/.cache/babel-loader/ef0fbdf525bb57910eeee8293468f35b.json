{"remainingRequest":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\CreateOrder.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\CreateOrder.vue","mtime":1610527025000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL1x1NjExRlx1ODlDOS9EZXNrdG9wL25ldy1iZWUvbmV3LWJlZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1x1NjExRlx1ODlDOS9EZXNrdG9wL25ldy1iZWUvbmV3LWJlZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBzSGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9TaW1wbGVIZWFkZXInOwppbXBvcnQgeyBjb21wdXRlZCwgb25Nb3VudGVkLCByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JzsKaW1wb3J0IHsgdXNlUm91dGUsIHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBnZXRCeUNhcnRJdGVtSWRzIH0gZnJvbSAnQC9zZXJ2aWNlL2NhcnQuanMnOwppbXBvcnQgeyBnZXRBZGRyZXNzRGV0YWlsLCBnZXREZWZhdWx0QWRkcmVzcyB9IGZyb20gJ0Avc2VydmljZS9hZGRyZXNzLmpzJzsKaW1wb3J0IHsgc2V0TG9jYWwsIGdldExvY2FsIH0gZnJvbSAnQC9jb21tb24vanMvdXRpbHMuanMnOwppbXBvcnQgeyBjcmVhdGVPcmRlciwgcGF5T3JkZXIgfSBmcm9tICdAL3NlcnZpY2Uvb3JkZXIuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgc0hlYWRlcjogc0hlYWRlcgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgY2FydExpc3Q6IFtdLAogICAgICBjYXJ0SXRlbUlkOiBbXSwKICAgICAgYWRkcmVzczoge30sCiAgICAgIHNob3dQYXk6IGZhbHNlLAogICAgICBvcmRlck5vOiAnJyAvLyDorqLljZXnvJblj7cKCiAgICB9KTsKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQoKTsKICAgIH0pOwoKICAgIHZhciBpbml0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF9yb3V0ZSRxdWVyeSwgY2FydEl0ZW1JZCwgYWRkcmVzc0lkLCBfY2FydEl0ZW1JZCwgX3JlZjIsIGFkZHJlc3MsIF95aWVsZCRnZXRCeUNhcnRJdGVtSSwgbGlzdDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgVG9hc3QubG9hZGluZyh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliqDovb3kuK0uLi4nLAogICAgICAgICAgICAgICAgICBmb3JiaWRDbGljazogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfcm91dGUkcXVlcnkgPSByb3V0ZS5xdWVyeSwgY2FydEl0ZW1JZCA9IF9yb3V0ZSRxdWVyeS5jYXJ0SXRlbUlkLCBhZGRyZXNzSWQgPSBfcm91dGUkcXVlcnkuYWRkcmVzc0lkOwogICAgICAgICAgICAgICAgX2NhcnRJdGVtSWQgPSBjYXJ0SXRlbUlkID8gSlNPTi5wYXJzZShjYXJ0SXRlbUlkKSA6IEpTT04ucGFyc2UoZ2V0TG9jYWwoJ2NhcnRJdGVtSWQnKSk7CiAgICAgICAgICAgICAgICBzZXRMb2NhbCgnY2FydEl0ZW1JZCcsIEpTT04uc3RyaW5naWZ5KF9jYXJ0SXRlbUlkKSk7IC8vIOivt+axgueUqOaIt+WcsOWdgAoKICAgICAgICAgICAgICAgIGlmICghYWRkcmVzc0lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWRkcmVzc0RldGFpbChhZGRyZXNzSWQpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXREZWZhdWx0QWRkcmVzcygpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX3JlZjIgPSBfY29udGV4dC50MDsKICAgICAgICAgICAgICAgIGFkZHJlc3MgPSBfcmVmMi5kYXRhOwoKICAgICAgICAgICAgICAgIGlmIChhZGRyZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnL2FkZHJlc3MnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgc3RhdGUuYWRkcmVzcyA9IGFkZHJlc3M7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhZGRyZXNzKTsgLy8g6K+35rGC6KaB6LSt5Lmw55qE5ZWG5ZOB5pWw5o2uCgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldEJ5Q2FydEl0ZW1JZHMoewogICAgICAgICAgICAgICAgICBjYXJ0SXRlbUlkczogX2NhcnRJdGVtSWQuam9pbignLCcpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXRCeUNhcnRJdGVtSSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBsaXN0ID0gX3lpZWxkJGdldEJ5Q2FydEl0ZW1JLmRhdGE7CiAgICAgICAgICAgICAgICBzdGF0ZS5jYXJ0TGlzdCA9IGxpc3Q7CiAgICAgICAgICAgICAgICBUb2FzdC5jbGVhcigpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGdvVG8gPSBmdW5jdGlvbiBnb1RvKCkgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9hZGRyZXNzJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgY2FydEl0ZW1JZDogSlNPTi5zdHJpbmdpZnkoc3RhdGUuY2FydEl0ZW1JZCksCiAgICAgICAgICBmcm9tOiAnY3JlYXRlLW9yZGVyJwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OyAvLyDlkIjorqEKCgogICAgdmFyIHRvdGFsID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3VtID0gMDsKICAgICAgc3RhdGUuY2FydExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHN1bSArPSBpdGVtLmdvb2RzQ291bnQgKiBpdGVtLnNlbGxpbmdQcmljZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBzdW07CiAgICB9KTsgLy8g55Sf5oiQ6K6i5Y2VCgogICAgdmFyIGhhbmRsZUNyZWF0ZU9yZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcGFyYW1zLCBfeWllbGQkY3JlYXRlT3JkZXIsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIGFkZHJlc3NJZDogc3RhdGUuYWRkcmVzcy5hZGRyZXNzSWQsCiAgICAgICAgICAgICAgICAgIGNhcnRJdGVtSWRzOiBzdGF0ZS5jYXJ0TGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5jYXJ0SXRlbUlkOwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfTsgLy8g6LCD55So5o6l5Y+jCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU9yZGVyKHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRjcmVhdGVPcmRlciA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRjcmVhdGVPcmRlci5kYXRhOwogICAgICAgICAgICAgICAgc2V0TG9jYWwoJ2NhcnRJdGVtSWQnLCAnJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgIHN0YXRlLm9yZGVyTm8gPSBkYXRhOwogICAgICAgICAgICAgICAgc3RhdGUuc2hvd1BheSA9IHRydWU7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVDcmVhdGVPcmRlcigpIHsKICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy8g5pSv5LuYCgoKICAgIHZhciBoYW5kbGVQYXlPcmRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTModHlwZSkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcGF5T3JkZXIoewogICAgICAgICAgICAgICAgICBvcmRlck5vOiBzdGF0ZS5vcmRlck5vLAogICAgICAgICAgICAgICAgICBwYXlUeXBlOiB0eXBlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgVG9hc3Quc3VjY2Vzcygn5pSv5LuY5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvb3JkZXInCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgMjAwMCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVQYXlPcmRlcihfeCkgewogICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRvUmVmcyhzdGF0ZSkpLCB7fSwgewogICAgICBnb1RvOiBnb1RvLAogICAgICB0b3RhbDogdG90YWwsCiAgICAgIGhhbmRsZUNyZWF0ZU9yZGVyOiBoYW5kbGVDcmVhdGVPcmRlciwKICAgICAgaGFuZGxlUGF5T3JkZXI6IGhhbmRsZVBheU9yZGVyCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\CreateOrder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"create-order\">\n    <s-header :name=\"'生成订单'\"></s-header>\n    <!-- 地址 -->\n    <div class=\"address-wrap\">\n      <div class=\"name\" @click=\"goTo\">\n        <span>{{address.userName}}</span>\n        <span>{{address.userPhone}}</span>\n      </div>\n      <div class=\"address\">\n        {{address.provinceName}} {{address.cityName}} {{address.regionName}} {{address.detailAddress}}\n      </div>\n      <van-icon class=\"arrow\" name=\"arrow\" />\n    </div>\n    <!-- 列表 -->\n    <div class=\"good\">\n      <div class=\"good-item\" v-for=\"(item, index) in cartList\" :key=\"index\">\n        <div class=\"good-img\"><img :src=\"$filters.prefix(item.goodsCoverImg)\" alt=\"\"></div>\n        <div class=\"good-desc\">\n          <div class=\"good-title\">\n            <span>{{ item.goodsName }}</span>\n            <span>x{{ item.goodsCount }}</span>\n          </div>\n          <div class=\"good-btn\">\n            <div class=\"price\">¥{{ item.sellingPrice }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 生成订单 -->\n    <div class=\"pay-wrap\">\n      <div class=\"price\">\n        <span>商品金额</span>\n        <span>¥ {{total}}</span>\n      </div>\n      <van-button @click=\"handleCreateOrder\" class=\"pay-btn\" color=\"#1baeae\" type=\"primary\">生成订单</van-button>\n    </div>\n\n    <van-popup\n      closeable\n      :close-on-click-overlay=\"false\"\n      v-model:show=\"showPay\"\n      position=\"bottom\"\n      :style=\"{ height: '30%' }\"\n      @close=\"close\"\n    >\n      <div :style=\"{ width: '90%', margin: '0 auto', padding: '50px 0' }\">\n        <van-button :style=\"{ marginBottom: '10px' }\" color=\"#1989fa\" block @click=\"handlePayOrder(1)\">支付宝支付</van-button>\n        <van-button color=\"#4fc08d\" block @click=\"handlePayOrder(2)\">微信支付</van-button>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport sHeader from '@/components/SimpleHeader'\nimport { computed, onMounted, reactive, toRefs } from 'vue'\nimport { Toast } from 'vant'\nimport { useRoute, useRouter } from 'vue-router'\nimport { getByCartItemIds } from '@/service/cart.js'\nimport { getAddressDetail, getDefaultAddress } from '@/service/address.js'\nimport { setLocal, getLocal } from '@/common/js/utils.js'\nimport { createOrder, payOrder } from '@/service/order.js';\nexport default {\n  components: {\n    sHeader\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const state = reactive({\n      cartList: [],\n      cartItemId: [],\n      address:  {},\n      showPay: false,\n      orderNo: '' // 订单编号\n    })\n\n    onMounted(() => {\n      init()\n    })\n    const init = async () => {\n      Toast.loading({ message: '加载中...', forbidClick: true });\n      const { cartItemId, addressId } = route.query\n      const _cartItemId = cartItemId ? JSON.parse(cartItemId) : JSON.parse(getLocal('cartItemId'))\n      setLocal('cartItemId', JSON.stringify(_cartItemId))\n      // 请求用户地址\n      const { data: address } = addressId ? await getAddressDetail(addressId) : await getDefaultAddress()\n      if (!address) {\n        router.push({ path: '/address' })\n        return\n      }\n      state.address = address\n      console.log(address);\n      // 请求要购买的商品数据\n      const { data: list } = await getByCartItemIds({ cartItemIds: _cartItemId.join(',')})\n      state.cartList = list\n      Toast.clear()\n    }\n\n    const goTo = () => {\n      router.push({ path: '/address', query: { cartItemId: JSON.stringify(state.cartItemId), from: 'create-order' }})\n    }\n\n    // 合计\n    const total = computed(() => {\n      let sum = 0\n      state.cartList.forEach(item => {\n        sum += item.goodsCount * item.sellingPrice\n      })\n      return sum\n    })\n    \n    // 生成订单\n    const handleCreateOrder = async () => {\n      const params = {\n        addressId: state.address.addressId,\n        cartItemIds: state.cartList.map(item => item.cartItemId)\n      }\n      // 调用接口\n      const { data } = await createOrder(params)\n      setLocal('cartItemId', '')\n      console.log(data);\n      state.orderNo = data\n      state.showPay = true\n    }\n    \n    // 支付\n    const handlePayOrder = async (type) => {\n      await payOrder({ orderNo: state.orderNo, payType: type})\n      Toast.success('支付成功')\n      setTimeout(() => {\n        router.push({ path: '/order' })\n      }, 2000)\n    }\n\n    return {\n      ...toRefs(state),\n      goTo,\n      total,\n      handleCreateOrder,\n      handlePayOrder\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .create-order {\n    background: #f9f9f9;\n    .address-wrap {\n      margin-bottom: 20px;\n      background: #fff;\n      position: relative;\n      margin-top: 44px;\n      font-size: 14px;\n      padding: 15px;\n      color: #222333;\n      .name, .address {\n        margin: 10px 0;\n      }\n      .arrow {\n        position: absolute;\n        right: 10px;\n        top: 50%;\n        transform: translateY(-50%);\n        font-size: 20px;\n      }\n      &::before {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: 2px;\n        background: -webkit-repeating-linear-gradient(135deg, #ff6c6c 0, #ff6c6c 20%, transparent 0, transparent 25%, #1989fa 0, #1989fa 45%, transparent 0, transparent 50%);\n        background: repeating-linear-gradient(-45deg, #ff6c6c 0, #ff6c6c 20%, transparent 0, transparent 25%, #1989fa 0, #1989fa 45%, transparent 0, transparent 50%);\n        background-size: 80px;\n        content: '';\n      }\n    }\n    .good {\n      margin-bottom: 120px;\n      padding-bottom: 106px;\n    }\n    .good-item {\n      padding: 10px;\n      background: #fff;\n      display: flex;\n      .good-img {\n        img {\n          .wh(100px, 100px)\n        }\n      }\n      .good-desc {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        flex: 1;\n        padding: 20px;\n        .good-title {\n          display: flex;\n          justify-content: space-between;\n        }\n        .good-btn {\n          display: flex;\n          justify-content: space-between;\n          .price {\n            font-size: 16px;\n            color: red;\n            line-height: 28px;\n          }\n          .van-icon-delete {\n            font-size: 20px;\n            margin-top: 4px;\n          }\n        }\n      }\n    }\n    .pay-wrap {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      background: #fff;\n      padding: 10px 0;\n      padding-bottom: 50px;\n      border-top: 1px solid #e9e9e9;\n      >div {\n        display: flex;\n        justify-content: space-between;\n        padding: 0 5%;\n        margin: 10px 0;\n        font-size: 14px;\n        span:nth-child(2) {\n          color: red;\n          font-size: 18px;\n        }\n      }\n      .pay-btn {\n        position: fixed;\n        bottom: 7px;\n        right: 0;\n        left: 0;\n        width: 90%;\n        margin: 0 auto;\n      }\n    }\n  }\n</style>"],"sourceRoot":""}]}