{"remainingRequest":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\Cart.vue?vue&type=style&index=0&id=c028c34c&lang=less","dependencies":[{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\Cart.vue","mtime":1610505461000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgIi4uL2NvbW1vbi9zdHlsZS9taXhpbiI7Ci5jYXJ0LWJveCB7CiAgLmNhcnQtaGVhZGVyIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB6LWluZGV4OiAxMDAwMDsKICAgIC5maigpOwogICAgLndoKDEwMCUsIDQ0cHgpOwogICAgbGluZS1oZWlnaHQ6IDQ0cHg7CiAgICBwYWRkaW5nOiAwIDEwcHg7CiAgICAuYm94U2l6aW5nKCk7CiAgICBjb2xvcjogIzI1MjUyNTsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RjZGNkYzsKICAgIC5jYXJ0LW5hbWUgewogICAgICBmb250LXNpemU6IDE0cHg7CiAgICB9CiAgfQogIC5jYXJ0LWJvZHkgewogICAgbWFyZ2luOiA2MHB4IDAgMTAwcHggMDsKICAgIHBhZGRpbmctbGVmdDogMTBweDsKICAgIHBhZGRpbmctYm90dG9tOiAxMDBweDsKICAgIC5nb29kLWl0ZW0gewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAuZ29vZC1pbWcgewogICAgICAgIGltZyB7CiAgICAgICAgICAud2goMTAwcHgsIDEwMHB4KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLmdvb2QtZGVzYyB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICBmbGV4OiAxOwogICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgLmdvb2QtdGl0bGUgewogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICB9CiAgICAgICAgLmdvb2QtYnRuIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAucHJpY2UgewogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgIGNvbG9yOiByZWQ7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyOHB4OwogICAgICAgICAgfQogICAgICAgICAgLnZhbi1pY29uLWRlbGV0ZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogNHB4OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLmRlbGV0ZS1idXR0b24gewogICAgICB3aWR0aDogNTBweDsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQogIH0KICAuZW1wdHkgewogICAgd2lkdGg6IDUwJTsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLXRvcDogMjAwcHg7CiAgICAuZW1wdHktY2FydCB7CiAgICAgIHdpZHRoOiAxNTBweDsKICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIH0KICAgIC52YW4taWNvbi1zbWlsZS1vIHsKICAgICAgZm9udC1zaXplOiA1MHB4OwogICAgfQogICAgLnRpdGxlIHsKICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgfQogIH0KICAuc3VibWl0LWFsbCB7CiAgICBtYXJnaW4tYm90dG9tOiA1MHB4OwogICAgLnZhbi1jaGVja2JveCB7CiAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgfQogICAgLnZhbi1zdWJtaXQtYmFyX190ZXh0IHsKICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgfQogICAgLnZhbi1zdWJtaXQtYmFyX19idXR0b24gewogICAgICBiYWNrZ3JvdW5kOiBAcHJpbWFyeTsKICAgIH0KICB9CiAgLnZhbi1jaGVja2JveF9faWNvbi0tY2hlY2tlZCAudmFuLWljb24gewogICAgYmFja2dyb3VuZC1jb2xvcjogQHByaW1hcnk7CiAgICBib3JkZXItY29sb3I6IEBwcmltYXJ5OwogIH0KfQo="},{"version":3,"sources":["C:\\Users\\感觉\\Desktop\\new-bee\\new-bee\\src\\views\\Cart.vue"],"names":[],"mappings":"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","file":"C:/Users/感觉/Desktop/new-bee/new-bee/src/views/Cart.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"cart-box\">\n    <s-header :name=\"'购物车'\" :back=\"false\"></s-header>\n    <!-- 列表 -->\n    <div v-if=\"list.length > 0\" class=\"cart-body\">\n      <van-checkbox-group v-model=\"result\" @change=\"groupChange\">\n        <van-swipe-cell v-for=\"(item, index) in list\" :key=\"index\">\n          <div class=\"good-item\">\n            <van-checkbox :name=\"item.cartItemId\"></van-checkbox>\n            <div class=\"good-img\">\n              <img :src=\"$filters.prefix(item.goodsCoverImg)\" alt=\"\" />\n            </div>\n            <div class=\"good-desc\">\n              <div class=\"good-title\">\n                <span>{{ item.goodsName }}</span>\n                <span>x{{ item.goodsCount }}</span>\n              </div>\n              <div class=\"good-btn\">\n                <div class=\"price\">¥{{ item.sellingPrice }}</div>\n                <van-stepper\n                  async-change\n                  integer\n                  min=\"1\"\n                  max=\"5\"\n                  :model-value=\"item.goodsCount\"\n                  :name=\"item.cartItemId\"\n                  @change=\"numChange\"\n                />\n              </div>\n            </div>\n          </div>\n          <template #right>\n            <van-button\n              square\n              icon=\"delete\"\n              type=\"danger\"\n              class=\"delete-button\"\n              @click=\"deleteGood(item.cartItemId)\"\n            />\n          </template>\n        </van-swipe-cell>\n      </van-checkbox-group>\n    </div>\n    <!-- 合计 -->\n    <van-submit-bar\n      v-if=\"list.length > 0\"\n      class=\"submit-all\"\n      :price=\"total * 100\"\n      button-text=\"结算\"\n      @submit=\"onSubmit\"\n    >\n      <van-checkbox @click=\"allCheck\" v-model:checked=\"checkAll\"\n        >全选</van-checkbox\n      >\n    </van-submit-bar>\n    <div class=\"empty\" v-else>\n      <img\n        class=\"empty-cart\"\n        src=\"//s.yezgea02.com/1604028375097/empty-car.png\"\n        alt=\"空购物车\"\n      />\n      <div class=\"title\">购物车空空如也</div>\n      <van-button round color=\"#1baeae\" type=\"primary\" @click=\"goTo\" block\n        >前往选购</van-button\n      >\n    </div>\n\n    <navBar />\n  </div>\n</template>\n\n<script>\nimport sHeader from \"@/components/SimpleHeader\";\nimport navBar from \"@/components/NavBar\";\nimport { computed, onMounted, reactive, toRefs } from \"vue\";\nimport { Toast } from \"vant\";\nimport { getCart, modifyCart, deleteCartItem } from \"@/service/cart.js\";\nimport { useRouter } from 'vue-router'\nexport default {\n  components: {\n    sHeader,\n    navBar,\n  },\n  setup() {\n    const router = useRouter()\n    const state = reactive({\n      result: [], // 想买的\n      list: [],\n      checkAll: true,\n    });\n\n    onMounted(() => {\n      init();\n    });\n    const init = async () => {\n      Toast.loading({ message: \"加载中...\", forbidClick: true });\n      const { data } = await getCart({ pageNumber: 1 });\n      // console.log(data);\n      state.list = data;\n      state.result = data.map((item) => item.cartItemId);\n      // console.log(state.result);\n      Toast.clear();\n    };\n\n    // 全选\n    const allCheck = () => {\n      if (!state.checkAll) {\n        state.result = state.list.map((item) => item.cartItemId);\n      } else {\n        state.result = [];\n      }\n      state.checkAll = !state.checkAll;\n    };\n\n    // 总价格\n    const total = computed(() => {\n      let sum = 0;\n      let _list = state.list.filter((item) =>\n        state.result.includes(item.cartItemId)\n      );\n      _list.forEach((item) => {\n        sum += item.goodsCount * item.sellingPrice;\n      });\n      return sum;\n    });\n\n    // 单选\n    const groupChange = (result) => {\n      // console.log(result);\n      if (result.length === state.list.length) {\n        state.checkAll = true;\n      } else {\n        state.checkAll = false;\n      }\n      state.result = result;\n    };\n\n    // 增减数量\n    const numChange = async (value, detail) => {\n      console.log(value, detail);\n      console.log(state.list);\n      if (\n        state.list.filter((item) => item.cartItemId == detail.name)[0]\n          .goodsCount == value\n      )\n        return;\n      Toast.loading({ message: \"修改中...\", forbidClick: true });\n      const params = {\n        cartItemId: detail.name,\n        goodsCount: value,\n      };\n      // 发接口请求，更新服务器上的数据\n      await modifyCart(params);\n      // 用现有的数据去更新页面\n      state.list.forEach((item) => {\n        if (item.cartItemId == detail.name) {\n          item.goodsCount = value;\n        }\n      });\n      Toast.clear();\n    };\n\n    // 删除商品\n    const deleteGood = async (goodId) => {\n      const { resultCode } = await deleteCartItem(goodId);\n      // if (resultCode == 200) {\n      //   // state.list.forEach((item, index) => {\n      //   //   if (item.cartItemId == goodId) {\n      //   //     state.list.splice(index, 1);\n      //   //   }\n      //   //   // Toast.clear();\n      //   // });\n      //   state.list = state.list.filter((item) => {\n      //     return item.cartItemId !== goodId\n      //   })\n      // } else {\n      //   Toast({\n      //     message: \"出错了\",\n      //     forbidClick: true,\n      //   });\n      // }\n      init()\n    };\n\n    const goTo = () =>  {\n      router.push({ path: '/home' })\n    }\n\n    // 结算\n    const onSubmit = () => {\n      if (state.result.length == 0) {\n        Toast.fail('请选择商品进行结算')\n        return\n      }\n      const params = JSON.stringify(state.result)\n      router.push({ path: '/create-order', query: {cartItemId: params}})\n    }\n\n    return {\n      ...toRefs(state),\n      allCheck,\n      total,\n      groupChange,\n      numChange,\n      deleteGood,\n      goTo,\n      onSubmit\n    };\n  },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../common/style/mixin\";\n.cart-box {\n  .cart-header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10000;\n    .fj();\n    .wh(100%, 44px);\n    line-height: 44px;\n    padding: 0 10px;\n    .boxSizing();\n    color: #252525;\n    background: #fff;\n    border-bottom: 1px solid #dcdcdc;\n    .cart-name {\n      font-size: 14px;\n    }\n  }\n  .cart-body {\n    margin: 60px 0 100px 0;\n    padding-left: 10px;\n    padding-bottom: 100px;\n    .good-item {\n      display: flex;\n      .good-img {\n        img {\n          .wh(100px, 100px);\n        }\n      }\n      .good-desc {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        flex: 1;\n        padding: 20px;\n        .good-title {\n          display: flex;\n          justify-content: space-between;\n        }\n        .good-btn {\n          display: flex;\n          justify-content: space-between;\n          .price {\n            font-size: 16px;\n            color: red;\n            line-height: 28px;\n          }\n          .van-icon-delete {\n            font-size: 20px;\n            margin-top: 4px;\n          }\n        }\n      }\n    }\n    .delete-button {\n      width: 50px;\n      height: 100%;\n    }\n  }\n  .empty {\n    width: 50%;\n    margin: 0 auto;\n    text-align: center;\n    margin-top: 200px;\n    .empty-cart {\n      width: 150px;\n      margin-bottom: 20px;\n    }\n    .van-icon-smile-o {\n      font-size: 50px;\n    }\n    .title {\n      font-size: 16px;\n      margin-bottom: 20px;\n    }\n  }\n  .submit-all {\n    margin-bottom: 50px;\n    .van-checkbox {\n      margin-left: 10px;\n    }\n    .van-submit-bar__text {\n      margin-right: 10px;\n    }\n    .van-submit-bar__button {\n      background: @primary;\n    }\n  }\n  .van-checkbox__icon--checked .van-icon {\n    background-color: @primary;\n    border-color: @primary;\n  }\n}\n</style>"]}]}